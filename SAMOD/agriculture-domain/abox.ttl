@prefix : <https://was-course.interactions.ics.unisg.ch/farm-ontology#> .
@prefix wgs: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix gn: <http://www.geonames.org/ontology#> .
@prefix hmas: <https://purl.org/hmas/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix path: <http://www.ontotext.com/path#> .
@prefix ex: <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-danai#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix vann: <http://purl.org/vocab/vann/> .

:Farm a owl:Class;
  rdfs:comment "A plot of land devoted to the growing of crops."@en .

:Tractor a owl:Class;
  rdfs:comment "An automotive vehicle that offers affordances to agents for managing a farm."@en .

:ReadSoilMoistureAffordance a owl:Class;
  rdfs:comment "An affordance offerred by the environment to agents for reading the moisture level of soil."@en .

:Coordinates a owl:Class;
  rdfs:comment "A set of 4 coordinates [X1,Y1,X2,Y2] that define the opposite corners of a square section at points [X1,Y1] and [X2,Y2]."@en .

:SoilMoisture a owl:Class;
  rdfs:comment "The level of moisture in soil."@en .

:IrrigateAffordance a owl:Class;
  rdfs:comment "An affordance offerred by the environment to agents for irrigating the soil."@en .

<https://was-course.interactions.ics.unisg.ch/farm-ontology#> a owl:Ontology;
  rdfs:comment "An ontology for representing knowledge useful for the management of farms."@en;
  vann:preferredNamespacePrefix "was" .

vann:preferredNamespacePrefix a owl:AnnotationProperty .

:Crop a owl:Class;
  rdfs:comment "A Crop which is farmed" .

:CropType a owl:Class;
  rdfs:comment "The type of crop which is either wheat or corn" .

:LandSection a owl:Class;
  rdfs:comment "A section on Farmland which grows a specific kind of Crop" .

:Corn a owl:Class;
  rdfs:subClassOf :CropType;
  owl:disjointWith :Wheat .

:Wheat a owl:Class;
  rdfs:subClassOf :CropType .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#farm-8dd5501e-fa80-4e97-814e-bc09ff8cb1af>
  a :Farm;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#tractor-717d8bd5-9053-487f-aaf2-fbbf93169b08>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#tractor-51f94bf9-c043-4f98-9e9b-8442fcc408c8>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-1>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-2>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-3>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-4> .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#tractor-717d8bd5-9053-487f-aaf2-fbbf93169b08>
  a td:Thing, :Tractor;
  hmas:hasProfile <https://raw.githubusercontent.com/Interactions-HSG/example-tds/was/tds/tractor1.ttl>;
  td:title "A tractor that can be used for monitoring the moisture level of soil in a farm.";
  td:hasSecurityConfiguration _:node112;
  td:hasBase <http://localhost:1080/api/tractors/1/>;
  td:hasActionAffordance _:node113 .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#tractor-51f94bf9-c043-4f98-9e9b-8442fcc408c8>
  a td:Thing, :Tractor;
  hmas:hasProfile <https://raw.githubusercontent.com/Interactions-HSG/example-tds/was/tds/tractor2.ttl>;
  td:title "A tractor that can be used for irrigating sections in a farm.";
  td:hasSecurityConfiguration _:node118;
  td:hasBase <http://localhost:1080/api/tractors/2/>;
  td:hasActionAffordance _:node119 .

_:node112 a wotsec:NoSecurityScheme .

_:node113 a td:ActionAffordance, :ReadSoilMoistureAffordance;
  td:name "Read Moisture Level";
  td:hasForm _:node114;
  td:hasInputSchema _:node115;
  td:hasOutputSchema _:node117 .

_:node115 a js:ArraySchema, :Coordinates;
  js:minItems "4"^^xsd:int;
  js:maxItems "4"^^xsd:int;
  js:items _:node116 .

_:node116 a js:IntegerSchema;
  js:minimum "0"^^xsd:int;
  js:maximum "2"^^xsd:int .

_:node117 a js:IntegerSchema, :SoilMoisture .

_:node118 a wotsec:NoSecurityScheme .

_:node119 a td:ActionAffordance, :IrrigateAffordance;
  td:name "Irrigate";
  td:hasForm _:node120;
  td:hasInputSchema _:node121 .

_:node121 a js:ArraySchema, :Coordinates;
  js:minItems "4"^^xsd:int;
  js:maxItems "4"^^xsd:int;
  js:items _:node122 .

_:node122 a js:IntegerSchema;
  js:minimum "0"^^xsd:int;
  js:maximum "2"^^xsd:int .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-1>
  a td:Thing, :LandSection;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-1>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-1>;
  td:title "A landsection (1) on a farm" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-2>
  a td:Thing, :LandSection;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-2>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-2>;
  td:title "A landsection (2) on a farm" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-3>
  a td:Thing, :LandSection;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-3>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-3>;
  td:title "A landsection (2) on a farm" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#landsection-4>
  a td:Thing, :LandSection;
  hmas:contains <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-4>,
    <https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-4>;
  td:title "A landsection (2) on a farm" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-1>
  a td:Thing, :Coordinates;
  td:title "A set of corrdinates (1) of a landsection (1)";
  td:hasCoordinates "0,0,1,1" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-2>
  a td:Thing, :Coordinates;
  td:title "A set of corrdinates (2) of a landsection (2)";
  td:hasCoordinates "1,0,2,1" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-3>
  a td:Thing, :Coordinates;
  td:title "A set of corrdinates (3) of a landsection (3)";
  td:hasCoordinates "0,1,1,2" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#coordinates-4>
  a td:Thing, :Coordinates;
  td:title "A set of corrdinates (4) of a landsection (4)";
  td:hasCoordinates "1,1,2,2" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-1>
  a td:Thing, :Crop, :Wheat;
  td:title "A crop (1) on a landsection (1)";
  td:hasrequiredMoisture "120" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-2>
  a td:Thing, :Crop, :Wheat;
  td:title "A crop (2) on a landsection (2)";
  td:hasrequiredMoisture "120" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-3>
  a td:Thing, :Crop, :Corn;
  td:title "A crop (3) on a landsection (3)";
  td:hasrequiredMoisture "80" .

<https://sandbox-graphdb.interactions.ics.unisg.ch/was-exercise-3-philipp#crop-4>
  a td:Thing, :Crop, :Corn;
  td:title "A crop (4) on a landsection (4)";
  td:hasrequiredMoisture "80" .

_:node114 htv:methodName "GET";
  hctl:hasTarget <http://localhost:1080/api/tractors/1/moisture>;
  hctl:forContentType "application/json";
  hctl:hasOperationType td:invokeAction .

_:node120 htv:methodName "PUT";
  hctl:hasTarget <http://localhost:1080/api/tractors/2/sprayer>;
  hctl:forContentType "application/json";
  hctl:hasOperationType td:invokeAction .
